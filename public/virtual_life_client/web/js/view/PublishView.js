var view,__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.com_type.selectHandler=new Handler(e,e.onComboSelected),e.btn_publish.clickHandler=new Handler(e,e.onPublishClicked),e.btn_custom.clickHandler=new Handler(e,e.onCustomClicked),e.ti_price.on(Laya.Event.INPUT,e,e.onInput),e}return __extends(e,t),e.prototype.onPublishCallBack=function(t){var e=JSON.parse(t);null!=e&&e.hasOwnProperty("code")&&(e.code<0?alert(e.message):alert(e.error))},e.prototype.onComboSelected=function(t){this.ti_custom.visible=!1},e.prototype.onPublishClicked=function(){if(this.ti_code.text.match("^[0-9a-zA-Z]+$")&&6==this.ti_code.text.length){var t="stock_code="+this.ti_code.text+"&stock_type_id=1&ipo_price="+Number(this.ti_price.text).toFixed(0)+"&ipo_shares=20&dividend_policy_id=1&intro="+this.ti_intro.text;NetHelper.getInstance().httpIpo(t,this,this.onPublishCallBack)}else alert("身价代码不合法，必须为6位英文和数字的组合")},e.prototype.onCustomClicked=function(){this.com_type.selectedIndex=-1,this.ti_custom.visible=!0},e.prototype.onInput=function(){this.txt_totalPrice.text=(20*Number(this.ti_price.text)).toFixed(2)},e}(ui.PublishViewUI);t.PublishView=e}(view||(view={}));